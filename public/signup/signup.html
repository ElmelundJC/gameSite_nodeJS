<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up</title>

    <link rel="stylesheet" href="../signup/signup.css">
</head>
<body>
    <section class="section-nav">
        <header class="header-container">
          <a href="#" class="logo">Spin the wheel</a>
          <ul>
            <li><a href="#">The Game</a></li>
            <li><a href="/gamesite/leaderboard">Leaderboard</a></li>
            <li><a href="/gamesite/rules">Rules</a></li>
            <li><a href="/gamesite/contact">Reach Out</a></li>
          </ul>
          <ul>
            <a href="/gamesite/login" class="login-btn">Login</a>
            <a href="/gamesite/signup" class="signup-btn">Sign up</a>
          </ul>
        </header>  
      </section>

    <section class="section-signup">
        <div class="color"></div>
        <div class="color"></div>
        <div class="color"></div>
        <div class="box">
            <div class="square" style="--i:0;"></div>
            <div class="square" style="--i:1;"></div>
            <div class="square" style="--i:2;"></div>
            <div class="square" style="--i:3;"></div>
            <div class="square" style="--i:4;"></div>
            <div class="container">
                <div class="form">
                    <h2>Create your account!</h2>
                    <form>
                        <div class="inputBox">
                            <input type="text" name="name" id="name" placeholder="Your name">
                        </div>
                        <div class="inputBox">
                            <input type="text" name="email" id="email" placeholder="Email address">
                        </div>
                        <div class="inputBox">
                            <input type="password" name="password" id="password" placeholder="Password">
                        </div>               
                        <div class="inputBox">
                            <input type="password" name="confirmPassword" id="confirmPassword" placeholder="Confirm password">
                        </div>
                        <div class="inputBox">
                            <input type="submit" id="signupBtn" value="Sign up">
                        </div>
                        <p class="forget">Already have an account? <a href="#">Click Here</a></p>
                    </form>
                </div>
            </div>
        </div>
    </section>
    <section>
        <div>
          <footer id="footer-id">
            <p id="footer-about">Copyright</p>
          </footer>
        </div>
      </section>
      <script>
        const signupBtn = document.querySelector('#signupBtn');
        const name = document.querySelector('input[name="name"]');
        const email = document.querySelector('input[name="email"]');
        const password = document.querySelector('input[name="password"]');
        const confirmPassword = document.querySelector('input[name="confirmPassword"]');
        // const endpoint = '/users/api/signup';

        // signupBtn.addEventListener('click', () => {
        //   const data = {
        //     name: name.value,
        //     email: email.value,
        //     password: password.value,
        //     passwordConfirm: confirmPassword.value,
        //   }

        //   fetch(endpoint, {
        //     method: 'post',
        //     body: JSON.stringify(data),
        //     headers: {
        //       'Content-Type': 'application/json',
        //     },

        //   }).then(res => res.json()).then(data => { console.log(data) }).then(window.location.href = '/index');
        // });
        
      

        const signUser = async function () { fetch('/signup', {
          method: 'post',
          header: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            name: name,
            email: email,
            password: password,
            passwordConfirm: confirmPassword,
          })
        })
        .then(res => {
          return res.json()
        })
        .then(data => console.log(data))
        .catch(error => console.log(error))
      }
       
      signUser();

        const footerAbout = document.getElementById('footer-about');
      
        footerAbout.innerText =
          'Â© Copyright ' +
          new Date().getFullYear() +
          ' Celmelund - All Rights Reserved';
      
        console.log(new Date().getFullYear());
      </script>
</body>
</html>